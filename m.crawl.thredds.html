<h2>DESCRIPTION</h2>
An increasing amount of spatio-temporal data, like climate observations and forecast data
or satellite imagery is provided through <a href="https://www.unidata.ucar.edu/software/tds/">
Thredds Data Servers (TDS)</a>.

<p>
<em>m.crawl.thredds</em> crawls the catalog of a a Thredds Data Server (TDS)
based in an <b>input</b> catalog-URL and returns a list of datasets. It is a wrapper
module around the Python library <a href="https://github.com/ioos/thredds_crawler">
thredds_crawler</a>. Depending on the format of the crawled datasets, the output
of <em>m.crawl.thredds</em> can be used as input to <em>t.rast.import.netcdf</em>.

<p>
The returned list of datasets can be filtered
<ul>
  <li>based on the modification time of the dataset using a range of relevant
timestamps defined by the <b>modified_before</b> and <b>modified_after</b> option(s)</li>
  <li>based on the file name using a regular expression in the <b>filter</b> option.</li>
</ul>
<p>
Authentication to the Thredds Server (if required) can be provided either through
a text-file, where the first line contains the username and the second the password,
or interactive user input (if <b>authenticatio</b>=-).
Alternatively, username and password can be passed through environment variables
<i>THREDDS_USER</i> and <i>THREDDS_PASSWORD</i>.

<h2>NOTES</h2>
The Thredds data catalog is crawled recursively. Providing the URL to the
root of a catalog on a Thredds server with many hirarchies and datasets can
therefore be quite time consuming, even if executed in parallel (<b>nprocs</b> > 1).

<h2>EXAMPLES</h2>
List modelled climate observation datasets from the Norwegian Meteorological Institute (met.no)

<div class="code"><pre>
# Get a list of all data for "seNorge"
m.crawl.thredds inupt="https://thredds.met.no/thredds/catalog/senorge/seNorge_2018/Archive/catalog.xml"

# Get a list of the most recent data for "seNorge"
m.crawl.thredds inupt="https://thredds.met.no/thredds/catalog/senorge/seNorge_2018/Archive/catalog.xml" modified_after="2021-02-01"
</pre></div>

List Sentinel-2A data from the Norwegian Ground Segment (NBS) for the 2. Feb 2021

<div class="code"><pre>
# Get a list of all Sentinel-2A data for 2. Feb 2021 with dataset size
m.crawl.thredds inupt="https://nbstds.met.no/thredds/catalog/NBS/S2A/2021/02/28/catalog.xml" print="data_size"

# Get a list of WMS end-points to all Sentinel-2A data for 2. Feb 2021
m.crawl.thredds inupt="https://nbstds.met.no/thredds/catalog/NBS/S2A/2021/02/28/catalog.xml" services="wms"
</pre></div>

<h2>REQUIREMENTS</h2>
<a href="https://github.com/ioos/thredds_crawler">thredds_crawler</a>

<h2>SEE ALSO</h2>
<em>
<a href="i.sentinel.download.html">i.sentinel.download</a>,
<a href="t.rast.import.netcdf.html">r.mapcalc</a>
</em>

<h2>AUTHORS</h2>
Stefan Blumentrath, <a href="https://geospatial.ncsu.edu/geoforall/">Norwegian Institute for Nature Research (NINA), Oslo</a>
